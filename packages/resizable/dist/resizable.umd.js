!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).resizable=t(e.React)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={exports:{}};
/*!
    Copyright (c) 2018 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */function b(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n+=1)if(t.apply(t,[e[n],n,e]))return e[n]}function m(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=n.apply(null,o);i&&e.push(i)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var c in o)t.call(o,c)&&o[c]&&e.push(c);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(g);var w=["Moz","Webkit","O","ms"];function O(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<=e.length;r+=1)n?(t+=t[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}function S(e,t,n,r){if(e){var o=h({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n}}function j(e,t,n,r){if(e){var o=h({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on".concat(t),n):e["on".concat(t)]=null}}!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<w.length;n+=1)if(O(e,w[n])in t)return w[n]}();var E="";function x(e,t){return E||(E=b(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return m(e[t])}))),!!m(e[E])&&e[E](t)}function R(e,t,n){var r=e;do{if(x(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function z(e){if(e){var t,n,r=e.getElementById("draggable-style-el");r||((r=e.createElement("style")).setAttribute("type","text/css"),r.id="draggable-style-el",r.innerHTML=".draggable-transparent-selection *::-moz-selection { all: inherit; }\n",r.innerHTML=".draggable-transparent-selection *::selection { all: inherit; }\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(t=e.body,n="draggable-transparent-selection",t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+="".concat(n)))}}function A(e){var t,n;if(e)try{if(e.body&&(t=e.body,n="draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection)e.getSelection.empty();else{var r=(e.defaultView||window).getSelection();r&&"Caret"!==r.type&&r.removeAllRanges()}}catch(e){}}function C(e,t,n,r){var o="number"==typeof n?function(e,t){return e.targetTouches&&b(e.targetTouches,(function(e){return t===e.indentifier}))||e.changedTouches&&b(e.changedTouches,(function(e){return t===e.indentifier}))}(e,n):null;if(null==t||!t.current||"number"==typeof n&&!o)return null;var a=t.current;return function(e,t,n){var r=e.clientX,o=e.clientY,a=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(r+t.scrollLeft-a.left)/n,y:(o+t.scrollTop-a.top)/n}}(o||e,t.current.offsetParent||a.offsetParent||a.ownerDocument.body,r)}function P(e,t,n,r){var o,a=!("number"==typeof(o=t.lastX)&&!Number.isNaN(o)),i=e.current;return a?{node:i,deltaX:0,deltaY:0,lastX:n,lastY:r,x:n,y:r}:{node:i,deltaX:n-t.lastX,deltaY:r-t.lastY,lastX:t.lastX,lastY:t.lastY,x:n,y:r}}var N={start:"mousedown",move:"mousemove",stop:"mouseup"},D={start:"touchstart",move:"touchmove",stop:"touchend"},k=N,M=function(t){var n=t.children,r=t.allowAnyClick,o=t.disable,a=t.handle,i=t.cancel,c=t.grid,u=t.domRef,l=t.scale,s=void 0===l?1:l,f=t.enableUserSelect,d=void 0===f||f,p=t.onStart,v=void 0===p?function(){return 0}:p,g=t.onDrag,b=void 0===g?function(){return 0}:g,m=t.onStop,w=void 0===m?function(){return 0}:m,O=t.onMousedown,E=void 0===O?function(){return 0}:O,x=e.useRef({lastX:NaN,lastY:NaN,dragging:!1,touchIndentifier:void 0}),M=e.useRef(null),T=e.useCallback((function(e){var t=x.current,n=C(e,M,t.touchIndentifier,s);if(null!==n){var r=n.x,o=n.y;if(Array.isArray(c)){var a=y(function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}(c,r-t.lastX,o-t.lastY),2),i=a[0],u=a[1];if(!i&&!u)return;r=t.lastX+i,o=t.lastY+u}var l=P(M,t,r,o);if(!1!==b(e,l))x.current=h(h({},t),{},{lastX:r,lastY:o});else try{X(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvent");X(f)}}}),[M]),X=e.useCallback((function(e){var t=x.current;if(t.dragging){var n=C(e,M,t.touchIndentifier,s);if(null!==n){var r=n.x,o=n.y,a=P(M,t,r,o);!1!==w(e,a)&&(M.current&&d&&A(M.current.ownerDocument),x.current=h(h({},t),{},{dragging:!1,lastX:NaN,lastY:NaN}),M.current&&(j(M.current.ownerDocument,k.move,T),j(M.current.ownerDocument,k.stop,X)))}}}),[M]),I=e.useCallback((function(e){var t=x.current;if(E&&E(e),r||0===e.button){var n=M.current,c=null==n?void 0:n.ownerDocument;if(!(n&&c&&c.body&&c.defaultView))throw new Error("Draggable not mounted on DragStart");if(!(o||!(e.target instanceof c.defaultView.Node)||a&&!R(e.target,a,n)||i&&R(e.target,i,n))){"touchstart"===e.type&&e.preventDefault();var u=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);x.current=h(h({},t),{},{touchIndentifier:u});var l=C(e,M,u,s);if(null!==l){var f=l.x,p=l.y,y=P(M,t,f,p);!1!==v(e,y)&&(d&&z(c),x.current=h(h({},t),{},{dragging:!0,lastX:f,lastY:p}),S(c,k.move,T),S(c,k.stop,X))}}}}),[M]),Y=e.useCallback((function(e){return k=N,I(e)}),[]),L=e.useCallback((function(e){return k=N,X(e)}),[]),H=e.useCallback((function(e){return k=D,I(e)}),[]),U=e.useCallback((function(e){return k=D,X(e)}),[]);return e.useEffect((function(){return M.current&&(null==u||u(M.current),S(M.current,D.start,H,{passive:!1})),function(){if(null!=M&&M.current){var e=M.current.ownerDocument;j(e,N.move,T),j(e,D.move,T),j(e,N.stop,X),j(e,D.stop,X),j(M.current,D.start,H,{passive:!1}),d&&A(e)}}}),[M]),e.cloneElement(n,{ref:M,onMouseDown:Y,onMouseUp:L,onTouchEnd:U})},T=function(t){var r=t.className,o=t.children,a=t.handle,c=t.draggableOpts,s=t.lockAspectRatio,f=t.axis,d=void 0===f?"both":f,h=t.resizeHandles,p=void 0===h?["se"]:h,y=t.transformScale,v=void 0===y?1:y,g=t.minConstraints,b=void 0===g?[20,20]:g,m=t.maxConstraints,w=void 0===m?[1/0,1/0]:m,O=e.useRef(null),S=e.useRef(null),j=e.useRef({width:t.width,height:t.height}),E=e.useCallback((function(e){return a?"function"==typeof a?a(e):a:n.default.createElement("span",{className:"rc-resizable-handle is-".concat(e)})}),[a]),x=function(){O.current=null,S.current=null},R=function(e,n){return function(r,o){var a=o.deltaX/v,i=o.deltaY/v;"onResizeStart"===e&&x();var c=("both"===d||"x"===d)&&"n"!==n&&"s"!==n,l=("both"===d||"y"===d)&&"e"!==n&&"w"!==n;if(c||l){var f=n[0],h=n[n.length-1],p=o.node.getBoundingClientRect();if(null!==O.current){if("w"===h)a+=p.left-O.current.left;if("n"===f)i+=p.top-O.current.top}O.current=p,"w"===h&&(a=-a),"n"===h&&(i=-i);var y=j.current.width+(c?a/v:0),g=j.current.height+(l?i/v:0),m=function(e,t){var n=b,r=w;if(!n&&!r)return[e,t];if(s)if(t===j.current.height){var o=j.current.width/j.current.height;e=(t=e/o)*o}else{var a=j.current.height/j.current.width;t=(e=t/a)*a}var i=e,c=t,l=u(S.current||[0,0],2),f=l[0],d=l[1];return e+=f,t+=d,n&&(e=Math.max(n[0],e),t=Math.max(n[1],t)),r&&(e=Math.min(r[0],e),t=Math.min(r[1],t)),S.current=[f+(i-e),d+(c-t)],[e,t]}(y,g),E=u(m,2);y=E[0],g=E[1];var R=y!==j.current.width||g!==j.current.height;j.current={width:y,height:g};var z="function"==typeof t[e]?t[e]:null;z&&!("onResize"===e&&!R)&&("function"==typeof r.persist&&r.persist(),z(r,{node:o.node,size:j.current,handle:n})),"onResizeStop"===e&&x()}}};return o?e.cloneElement(o,{className:"".concat(r||""," rc-resizable"),children:[null==o?void 0:o.props.children].concat(l(p.map((function(e){return n.default.createElement(M,i({},c,{key:"resiableHandle-".concat(e),onStop:R("onResizeStop",e),onStart:R("onResizeStart",e),onDrag:R("onResize",e)}),E(e))}))))}):null},X=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];return function(t){var r=t.handle,a=t.handleSize,l=t.onResize,s=t.onResizeStart,f=t.onResizeStop,d=t.draggableOpts,h=t.minConstraints,p=t.maxConstraints,y=t.lockAspectRatio,v=t.axis,g=t.width,b=t.height,m=t.resizeHandles,w=t.style,O=t.transformScale,S=c(t,X),j=u(e.useState({width:g,height:b,propsWidth:g,propsHeight:b}),2),E=j[0],x=j[1],R=e.useCallback((function(e,t){var n,r=t.size;l&&(l(e,t),null===(n=e.persist)||void 0===n||n.call(e));x(r)}),[]);return n.default.createElement(T,{axis:v,draggableOpts:d,handle:r,handleSize:a,height:E.height,lockAspectRatio:y,maxConstraints:p,minConstraints:h,onResizeStart:s,onResize:R,onResizeStop:f,resizeHandles:m,transformScale:O,width:E.width},n.default.createElement("div",i({},S,{style:o(o({},w),{},{width:"".concat(E.width,"px"),height:"".concat(E.height,"px")})})))}}));
